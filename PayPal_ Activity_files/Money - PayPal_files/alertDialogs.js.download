define(["jquery","BaseView"],function(e,t){"use strict";var n=t.extend({el:"#alertDialogs",alert:null,next:null,events:{"click .close, .no, .cancel, .action, .continue":"hideAlert","click .yes":"goNext"},initialize:function(){this.$el.on("focusin",function(e){e.stopPropagation()})},showAlert:function(t,n){this.next=n,this.alert=this.$("."+t),this.alert.show(),this.alert.focus(),this.alert.removeClass("hide"),e(window).scrollTop(0),this.listenToEsc()},hideAlert:function(t){t.preventDefault(),this.alert?this.alert.hide():e(t.currentTarget).closest(".alert").hide()},goNext:function(t){var n=(this.alert||this.$(".alert:visible")).attr("id"),r=e(t.target).closest(".alert").attr("id");t.preventDefault(),this.hideAlert(t),typeof this.next=="function"&&n===r&&this.next()},destroyView:function(){this.undelegateEvents(),e(this.el).removeData().unbind()},closeDialog:function(t){t.which===27&&(this.hideAlert(t),e("body").off("keydown",e.proxy(this.closeDialog,this)))},listenToEsc:function(){e("body").on("keydown",e.proxy(this.closeDialog,this))}});return n});