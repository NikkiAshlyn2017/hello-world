define(["jquery","backbone","BaseView","view/money/inc/requstIncreaseSubmitted","model/requestIncrease"],function(e,t,n,r,i){"use strict";return n.extend({el:".modalView",template:"money/inc/requestIncreaseModalInfo",events:{"click a.innerBox1":function(e){e.preventDefault(),this.requestIncreaseForLimit({min_amount:this.model.amounts.zeroAmount,max_amount:this.model.amounts.leastAmount})},"click a.innerBox2":function(e){e.preventDefault(),this.requestIncreaseForLimit({min_amount:this.model.amounts.leastAmount,max_amount:this.model.amounts.amount1})},"click a.innerBox3":function(e){e.preventDefault(),this.requestIncreaseForLimit({min_amount:this.model.amounts.amount1,max_amount:this.model.amounts.amount2})},"click a.innerBox4":function(e){e.preventDefault(),this.requestIncreaseForLimit({min_amount:this.model.amounts.amount2,max_amount:this.model.amounts.amount3})},"click a.innerBox5":function(e){e.preventDefault(),this.requestIncreaseForLimit({min_amount:this.model.amounts.amount3,max_amount:this.model.amounts.amount4})},"click a.innerBox6":function(e){e.preventDefault(),this.requestIncreaseForLimit({min_amount:this.model.amounts.amount4,max_amount:this.model.amounts.amount5})},"click a.innerBox7":function(e){e.preventDefault(),this.requestIncreaseForLimit({min_amount:this.model.amounts.amount5,max_amount:""})}},initialize:function(e){this.model=e},beforeRender:function(){},serialize:function(){return{modalText:this.model}},choiceSelected:!1,requestIncreaseForLimit:function(n){var s=this.$("#moneyTransferModal .modal-content a.close"),o=e("#moneyTransferModal");o.find(".requestIncreaseModalContent").hide(),o.find("iframe").show(),s.show(),this.deviceType==="mobile"&&this.$(".modal-body").attr("style","overflow-y: scroll"),this.choiceSelected||(this.choiceSelected=!0,this.requestIncreaseModel=new i,this.requestIncreaseModel.url=t.history.options.root+"money/requestIncrease/",this.requestIncreaseModel.save({choice:n},{wait:!0,success:function(t,n){var i=e("#moneyTransferModal");if(n.showErrorMessage)i.find("iframe").hide(),i.find(".requestIncreaseModalContent").show(),e(".error-alert").css("display","block");else{var s=new r(n);i.find("iframe").hide(),i.find(".requestIncreaseModalContent").show(),s&&s.render(),i.modal("show");var o=e(".money-info"),u;o.find("#requestIncreaseModal").hide(),n.showPendingModal?(u="<li>"+e("#pending-message1").val()+"</li>",o.find("ul.appeal-point").append(u),o.find("#pending-appealed-date").append(n.appealedDate),o.find("#pending-duration").append(n.pendingResponseDuration)):n.showApprovedModal?(u="<li>"+e("#approved-message1").val()+"</li>",o.find("ul.appeal-point").append(u),o.find("#approved-appealed-date").append(n.appealedDate),o.find("#approved-next-request-date").append(n.nextRequestDate)):n.showDeniedModal&&(u="<li>"+e("#denied-message1").val()+"</li>",o.find("ul.appeal-point").append(u),o.find("#denied-appealed-date").append(n.appealedDate),o.find("#denied-next-request-date").append(n.nextRequestDate))}}}))}})});